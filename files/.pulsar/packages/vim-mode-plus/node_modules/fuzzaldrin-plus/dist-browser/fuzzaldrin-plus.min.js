/* fuzzaldrin-plus - v0.6.0 - @license: MIT; @author: Jean Christophe Roy; @site: https://github.com/jeancroy/fuzzaldrin-plus */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.fuzzaldrin=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d,e,f,g;f=a("./scorer"),d=a("./pathScorer"),c=a("./query"),e=function(a){return a.candidate},g=function(a,b){return b.score-a.score},b.exports=function(a,b,c){var h,i,j,k,l,m,n,o,p,q,r,s,t;for(o=[],j=c.key,l=c.maxResults,k=c.maxInners,r=c.usePathScoring,p=null!=k&&k>0?k:a.length+1,h=null!=j,n=r?d:f,s=0,t=a.length;s<t&&(i=a[s],q=h?i[j]:i,!(q&&(m=n.score(q,b,c),m>0&&(o.push({candidate:i,score:m}),!--p))));s++);return o.sort(g),a=o.map(e),null!=l&&(a=a.slice(0,l)),a}}).call(this)},{"./pathScorer":4,"./query":5,"./scorer":6}],2:[function(a,b,c){(function(c){(function(){var d,e,f,g,h,i,j,k;f=a("./filter"),g=a("./matcher"),k=a("./scorer"),i=a("./pathScorer"),d=a("./query"),j=null,e="win32"===("undefined"!=typeof c&&null!==c?c.platform:void 0)?"\\":"/",b.exports={filter:function(a,b,c){return null==c&&(c={}),(null!=b?b.length:void 0)&&(null!=a?a.length:void 0)?(c=h(c,b),f(a,b,c)):[]},score:function(a,b,c){return null==c&&(c={}),(null!=a?a.length:void 0)&&(null!=b?b.length:void 0)?(c=h(c,b),c.usePathScoring?i.score(a,b,c):k.score(a,b,c)):0},match:function(a,b,c){var d;return null==c&&(c={}),a&&b?a===b?function(){d=[];for(var b=0,c=a.length;0<=c?b<c:b>c;0<=c?b++:b--)d.push(b);return d}.apply(this):(c=h(c,b),g.match(a,b,c)):[]},wrap:function(a,b,c){return null==c&&(c={}),a&&b?(c=h(c,b),g.wrap(a,b,c)):[]},prepareQuery:function(a,b){return null==b&&(b={}),b=h(b,a),b.preparedQuery}},h=function(a,b){return null==a.allowErrors&&(a.allowErrors=!1),null==a.usePathScoring&&(a.usePathScoring=!0),null==a.useExtensionBonus&&(a.useExtensionBonus=!1),null==a.pathSeparator&&(a.pathSeparator=e),null==a.optCharRegEx&&(a.optCharRegEx=null),null==a.wrap&&(a.wrap=null),null==a.preparedQuery&&(a.preparedQuery=j&&j.query===b?j:j=new d(b,a)),a}}).call(this)}).call(this,a("_process"))},{"./filter":1,"./matcher":3,"./pathScorer":4,"./query":5,"./scorer":6,_process:7}],3:[function(a,b,c){(function(){var b,d,e,f,g,h,i,j,k,l;l=a("./scorer"),e=l.isMatch,f=l.isWordStart,k=l.scoreConsecutives,j=l.scoreCharacter,i=l.scoreAcronyms,c.match=g=function(a,c,f){var g,i,j,k,l,m;return g=f.allowErrors,l=f.preparedQuery,k=f.pathSeparator,g||e(a,l.core_lw,l.core_up)?(m=a.toLowerCase(),j=d(a,m,l),0===j.length?j:(a.indexOf(k)>-1&&(i=b(a,m,l,k),j=h(j,i)),j)):[]},c.wrap=function(a,b,c){var d,e,f,h,i,j,k,l,m;if(null!=c.wrap&&(m=c.wrap,j=m.tagClass,l=m.tagOpen,k=m.tagClose),null==j&&(j="highlight"),null==l&&(l='<strong class="'+j+'">'),null==k&&(k="</strong>"),a===b)return l+a+k;if(f=g(a,b,c),0===f.length)return a;for(h="",d=-1,i=0;++d<f.length;){for(e=f[d],e>i&&(h+=a.substring(i,e),i=e);++d<f.length;){if(f[d]!==e+1){d--;break}e++}e++,e>i&&(h+=l,h+=a.substring(i,e),h+=k,i=e)}return i<=a.length-1&&(h+=a.substring(i)),h},b=function(a,b,c,e){var f,g,h;for(h=a.length-1;a[h]===e;)h--;if(f=a.lastIndexOf(e,h),f===-1)return[];for(g=c.depth;g-- >0;)if(f=a.lastIndexOf(e,f-1),f===-1)return[];return f++,h++,d(a.slice(f,h),b.slice(f,h),c,f)},h=function(a,b){var c,d,e,f,g,h,i;if(g=a.length,h=b.length,0===h)return a.slice();if(0===g)return b.slice();for(e=-1,f=0,d=b[f],i=[];++e<g;){for(c=a[e];d<=c&&++f<h;)d<c&&i.push(d),d=b[f];i.push(c)}for(;f<h;)i.push(b[f++]);return i},d=function(a,b,c,d){var e,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;for(null==d&&(d=0),z=c.query,A=c.query_lw,u=a.length,x=z.length,m=i(a,b,z,A).score,D=new Array(x),q=new Array(x),h=0,l=1,g=2,e=3,H=new Array(u*x),y=-1,t=-1;++t<x;)D[t]=0,q[t]=0;for(s=-1;++s<u;)for(B=0,E=0,p=0,F=b[s],t=-1;++t<x;)r=0,n=0,C=E,A[t]===F&&(G=f(s,a,b),r=p>0?p:k(a,b,z,A,s,t,G),n=C+j(s,t,G,m,r)),E=D[t],p=q[t],B>E?w=g:(B=E,w=l),n>B?(B=n,w=e):r=0,D[t]=B,q[t]=r,H[++y]=B>0?w:h;for(s=u-1,t=x-1,y=s*x+t,o=!0,v=[];o&&s>=0&&t>=0;)switch(H[y]){case l:s--,y-=x;break;case g:t--,y--;break;case e:v.push(s+d),t--,s--,y-=x+1;break;default:o=!1}return v.reverse(),v}}).call(this)},{"./scorer":6}],4:[function(a,b,c){(function(){var b,d,e,f,g,h,i,j,k,l;l=a("./scorer"),h=l.isMatch,b=l.computeScore,j=l.scoreSize,k=20,e=2.5,c.score=function(a,c,d){var e,f,g,j;return f=d.preparedQuery,e=d.allowErrors,e||h(a,f.core_lw,f.core_up)?(j=a.toLowerCase(),g=b(a,j,f),g=i(a,j,g,d),Math.ceil(g)):0},i=function(a,c,f,h){var i,l,m,n,o,p,q,r,s,t;if(0===f)return 0;for(s=h.preparedQuery,t=h.useExtensionBonus,r=h.pathSeparator,o=a.length-1;a[o]===r;)o--;if(m=a.lastIndexOf(r,o),q=o-m,p=1,t&&(p+=g(c,s.ext,m,o,2),f*=p),m===-1)return f;for(n=s.depth;m>-1&&n-- >0;)m=a.lastIndexOf(r,m-1);return l=m===-1?f:p*b(a.slice(m+1,o+1),c.slice(m+1,o+1),s),i=.5*k/(k+d(a,o+1,r)),i*l+(1-i)*f*j(0,e*q)},c.countDir=d=function(a,b,c){var d,e;if(b<1)return 0;for(d=0,e=-1;++e<b&&a[e]===c;);for(;++e<b;)if(a[e]===c)for(d++;++e<b&&a[e]===c;);return d},c.getExtension=f=function(a){var b;return b=a.lastIndexOf("."),b<0?"":a.substr(b+1)},g=function(a,b,c,d,e){var f,h,i,j;if(!b.length)return 0;if(j=a.lastIndexOf(".",d),!(j>c))return 0;for(i=b.length,f=d-j,f<i&&(i=f,f=b.length),j++,h=-1;++h<i&&a[j+h]===b[h];);return 0===h&&e>0?.9*g(a,b,c,j-2,e-1):h/f}}).call(this)},{"./scorer":6}],5:[function(a,b,c){(function(){var c,d,e,f,g,h,i,j;j=a("./pathScorer"),e=j.countDir,g=j.getExtension,b.exports=c=function(){function a(a,b){var c,h,j;return j=null!=b?b:{},c=j.optCharRegEx,h=j.pathSeparator,a&&a.length?(this.query=a,this.query_lw=a.toLowerCase(),this.core=d(a,c),this.core_lw=this.core.toLowerCase(),this.core_up=i(this.core),this.depth=e(a,a.length,h),this.ext=g(this.query_lw),void(this.charCodes=f(this.query_lw))):null}return a}(),h=/[ _\-:\/\\]/g,d=function(a,b){return null==b&&(b=h),a.replace(b,"")},i=function(a){var b,c,d,e;for(c="",d=0,e=a.length;d<e;d++)b=a[d],c+=b.toUpperCase()[0];return c},f=function(a){var b,c,d;for(d=a.length,c=-1,b=[];++c<d;)b[a.charCodeAt(c)]=!0;return b}}).call(this)},{"./pathScorer":4}],6:[function(a,b,c){(function(){var a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;u=150,k=20,t=150,j=.75,c.score=function(a,c,d){var e,g,h,i;return g=d.preparedQuery,e=d.allowErrors,e||f(a,g.core_lw,g.core_up)?(i=a.toLowerCase(),h=b(a,i,g),Math.ceil(h)):0},c.isMatch=f=function(a,b,c){var d,e,f,g,h,i,j;if(f=a.length,g=b.length,!f||g>f)return!1;for(d=-1,e=-1;++e<g;){for(h=b.charCodeAt(e),i=c.charCodeAt(e);++d<f&&(j=a.charCodeAt(d),j!==h&&j!==i););if(d===f)return!1}return!0},c.computeScore=b=function(a,b,c){var d,e,f,g,h,k,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;if(z=c.query,A=c.query_lw,u=a.length,x=z.length,d=l(a,b,z,A),e=d.score,d.count===x)return o(x,u,e,d.pos);if(y=b.indexOf(A),y>-1)return p(a,b,z,A,y,x,u);for(E=new Array(x),h=new Array(x),I=s(x,u),v=Math.ceil(j*x)+5,w=v,q=!0,t=-1;++t<x;)E[t]=0,h[t]=0;for(r=-1;++r<u;)if(G=b[r],!G.charCodeAt(0)in c.charCodes){if(q){for(t=-1;++t<x;)h[t]=0;q=!1}}else for(C=0,D=0,g=0,B=!0,q=!0,t=-1;++t<x;){if(F=E[t],F>C&&(C=F),k=0,A[t]===G)if(H=i(r,a,b),k=g>0?g:n(a,b,z,A,r,t,H),f=D+m(r,t,H,e,k),f>C)C=f,w=v;else{if(B&&--w<=0)return Math.max(C,E[x-1])*I;B=!1}D=F,g=h[t],h[t]=k,E[t]=C}return C=E[x-1],C*I},c.isWordStart=i=function(a,b,c){var d,e;return 0===a||(d=b[a],e=b[a-1],g(e)||d!==c[a]&&e===c[a-1])},c.isWordEnd=h=function(a,b,c,d){var e,f;return a===d-1||(e=b[a],f=b[a+1],g(f)||e===c[a]&&f!==c[a+1])},g=function(a){return" "===a||"."===a||"-"===a||"_"===a||"/"===a||"\\"===a},r=function(a){var b;return a<k?(b=k-a,100+b*b):Math.max(100+k-a,0)},c.scoreSize=s=function(a,b){return t/(t+Math.abs(b-a))},o=function(a,b,c,d){return 2*a*(u*c+r(d))*s(a,b)},c.scorePattern=q=function(a,b,c,d,e){var f,g;return g=a,f=6,c===a&&(f+=2),d&&(f+=3),e&&(f+=1),a===b&&(d&&(g+=c===b?2:1),e&&(f+=1)),c+g*(g+f)},c.scoreCharacter=m=function(a,b,c,d,e){var f;return f=r(a),c?f+u*((d>e?d:e)+10):f+u*e},c.scoreConsecutives=n=function(a,b,c,d,e,f,g){var i,j,k,l,m,n,o;for(j=a.length,l=c.length,k=j-e,m=l-f,i=k<m?k:m,n=0,o=0,c[f]===a[e]&&n++;++o<i&&d[++f]===b[++e];)c[f]===a[e]&&n++;return o<i&&e--,1===o?1+2*n:q(o,l,n,g,h(e,a,b,j))},c.scoreExactMatch=p=function(a,b,c,d,e,f,g){var j,k,l,m,n;for(n=i(e,a,b),n||(l=b.indexOf(d,e+1),l>-1&&(n=i(l,a,b),n&&(e=l))),k=-1,m=0;++k<f;)c[e+k]===a[k]&&m++;return j=h(e+f-1,a,b,g),o(f,g,q(f,f,m,n,j),e)},a=function(){function a(a,b,c){this.score=a,this.pos=b,this.count=c}return a}(),d=new a(0,.1,0),c.scoreAcronyms=l=function(b,c,f,h){var j,k,l,m,n,o,p,r,s,t,u;if(n=b.length,o=f.length,!(n>1&&o>1))return d;for(j=0,t=0,u=0,r=0,l=-1,m=-1;++m<o;){if(p=h[m],g(p)){if(l=c.indexOf(p,l+1),l>-1){t++;continue}break}for(;++l<n;)if(p===c[l]&&i(l,b,c)){f[m]===b[l]&&r++,u+=l,j++;break}if(l===n)break}return j<2?d:(k=j===o&&e(b,c,f,j),s=q(j,o,r,!0,k),new a(s,u/j,j+t))},e=function(a,b,c,d){var e,f,g,h;if(g=a.length,h=c.length,e=0,g>12*h)return!1;for(f=-1;++f<g;)if(i(f,a,b)&&++e>d)return!1;return!0}}).call(this)},{}],7:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}]},{},[2])(2)});